(function(){"use strict";var t={5914:function(t,e,i){var a=i(8499),n=i.n(a),s=i(6369),l=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},o=[],r=(i(6699),function(){var t=this,e=t._self._c;return e("div",{staticClass:"hello"},[e("el-row",{attrs:{type:"flex",align:"middle",justify:"center"}},[e("el-col",{attrs:{xs:24,sm:12}},[e("el-tabs",{staticStyle:{"text-align":"left"},attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"随机答题",name:"2"}},["2"===t.activeName?[e("div",{staticClass:"opt-btn",staticStyle:{margin:"15px 0"}},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleRandom}},[t._v("随机答题")]),1===t.examineStatus?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleBegin}},[t._v("开始答题")]):t._e(),[1,2].includes(t.examineStatus)?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleImmediately}},[t._v("立即答题")]):t._e(),[3,4].includes(t.examineStatus)?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleAgain}},[t._v("重新答题")]):t._e(),[3].includes(t.examineStatus)?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleFinish}},[t._v("结束答题")]):t._e()],1),e("div",{staticStyle:{color:"red","font-weight":"bold","text-align":"center",margin:"30px 0 15px"}},[e("span",[t._v(t._s(t.examineStatusMap[t.examineStatus].label))]),4!==t.examineStatus?[e("countdown",{ref:"countdownRef",attrs:{time:t.countdownTime,transform:t.transform},on:{progress:t.handleProgress,end:t.handleEnd},scopedSlots:t._u([{key:"default",fn:function({hours:e,minutes:i,seconds:a}){return[t._v(" "+t._s(`${e}:${i}:${a}`)+" ")]}}],null,!1,3911916211)}),[1,2,3].includes(t.examineStatus)?e("el-button",{attrs:{type:t.isPause?"success":"danger",size:"mini"},on:{click:t.handleTime}},[t._v(t._s(t.isPause?"继续答题":"暂停答题"))]):t._e()]:e("span",[t._v(t._s(t.timeRemaining))])],2),e("el-collapse",{model:{value:t.examineItemActiveName,callback:function(e){t.examineItemActiveName=e},expression:"examineItemActiveName"}},t._l(t.examineList,(function(i,a){return e("el-collapse-item",{key:i.id,attrs:{name:i.id,title:i.q},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{staticStyle:{"margin-right":"5px","font-size":"12px","font-weight":"bold"}},[t._v(t._s(a+1)+". "+t._s(i.q))]),e("div",{staticClass:"btn-icon-box",staticStyle:{"min-width":"40px"}},[e("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#409EFF",margin:"0 3px 0 0"},on:{click:function(e){return t.handleEdit(i)}}}),e("i",{staticClass:"el-icon-delete",staticStyle:{color:"#f56c6c",margin:"0 3px"},on:{click:function(e){return t.handleDelete(a,i)}}})])]},proxy:!0}],null,!0)},[e("div",{domProps:{innerHTML:t._s(i.a)}})])})),1)]:t._e()],2),e("el-tab-pane",{attrs:{label:"题目列表",name:"1"}},["1"===t.activeName?[e("div",{staticClass:"opt-btn",staticStyle:{margin:"15px 0"}},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleAdd}},[t._v("增加题目")]),e("div",{staticStyle:{float:"right"}},[e("el-input",{attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"题目关键字搜索"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)],1),e("el-collapse",{model:{value:t.itemActiveName,callback:function(e){t.itemActiveName=e},expression:"itemActiveName"}},t._l(t.searchList,(function(i,a){return e("el-collapse-item",{key:i.id,attrs:{name:i.id,title:i.q},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{staticStyle:{"margin-right":"5px","font-size":"12px","font-weight":"bold"}},[t._v(t._s(a+1)+". "+t._s(i.q))]),e("div",{staticClass:"btn-icon-box",staticStyle:{width:"90px"}},[e("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#409EFF",margin:"0 3px 0 0"},on:{click:function(e){return t.handleEdit(i)}}}),e("i",{staticClass:"el-icon-delete",staticStyle:{color:"#f56c6c",margin:"0 3px"},on:{click:function(e){return t.handleDelete(a,i)}}})])]},proxy:!0}],null,!0)},[e("div",{domProps:{innerHTML:t._s(i.a)}})])})),1)]:t._e()],2),e("el-tab-pane",{attrs:{label:"新增/编辑题目",name:"3"}},["3"===t.activeName?[e("el-form",{attrs:{model:t.form,"label-position":"top"}},[e("el-form-item",{attrs:{label:"题目"}},[e("el-input",{attrs:{placeholder:"请输入题目"},model:{value:t.form.q,callback:function(e){t.$set(t.form,"q",e)},expression:"form.q"}})],1),e("el-form-item",{attrs:{label:"答案"}},[e("editor",{attrs:{init:t.initOptions},model:{value:t.form.a,callback:function(e){t.$set(t.form,"a",e)},expression:"form.a"}})],1),e("el-form-item",{staticStyle:{"text-align":"right"},attrs:{label:""}},[e("el-button",{attrs:{type:"default"},on:{click:t.handleCancel}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("保存")])],1)],1)]:t._e()],2),e("el-tab-pane",{attrs:{label:"导入题目",name:"4"}},["4"===t.activeName?[e("div",{staticClass:"opt-btn",staticStyle:{margin:"15px 0"}},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleImprtDefault}},[t._v("导入默认数据")])],1),e("el-form",{attrs:{model:{},"label-position":"top"}},[e("el-form-item",{attrs:{label:"导入"}},[e("el-input",{attrs:{type:"textarea",rows:10,placeholder:""},model:{value:t.jsonStr,callback:function(e){t.jsonStr=e},expression:"jsonStr"}})],1),e("el-form-item",{staticStyle:{"text-align":"right"},attrs:{label:""}},[e("el-button",{attrs:{type:"default"},on:{click:t.handleCancel}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleImport}},[t._v("保存")])],1)],1)]:t._e()],2)],1)],1)],1),e("audio",{staticStyle:{display:"fixed",top:"-1000","z-index":"-1",opacity:"0",visibility:"hidden"},attrs:{id:"endAudio",controls:"",height:"100",width:"100",autoplay:"false"}},[e("source",{attrs:{src:t.endAudioPath,type:"audio/mpeg"}}),e("source",{attrs:{src:t.endAudioPath,type:"audio/ogg"}}),e("embed",{attrs:{height:"50",width:"100",src:t.endAudioPath}})]),e("audio",{staticStyle:{display:"fixed",top:"-1000","z-index":"-1",opacity:"0",visibility:"hidden"},attrs:{id:"startAudio",controls:"",height:"100",width:"100",autoplay:"false"}},[e("source",{attrs:{src:t.startAudioPath,type:"audio/mpeg"}}),e("source",{attrs:{src:t.startAudioPath,type:"audio/ogg"}}),e("embed",{attrs:{height:"50",width:"100",src:t.startAudioPath}})])],1)}),c=[],u=i(3757),d=i.n(u),m=i(5046),h=i(6265),p=i.n(h),f=i(4806),v=i(536);const g=window.localStorage.getItem("list")||"",y=window.localStorage.getItem("havedList")||"";var x={name:"HelloWorld",components:{Editor:m.Z,Countdown:d()},props:{msg:String},data(){return{initOptions:{language:"zh_CN",min_height:400},activeName:"2",list:g?JSON.parse(g):[],havedList:y?JSON.parse(y):[],examineList:[],curItem:{},form:this.initForm(),itemActiveName:"",examineItemActiveName:"",timeRemaining:6e4,countdownTime:0,examineStatus:0,examineStatusMap:{0:{value:0,label:"未开始",time:0},1:{value:1,label:"备考倒计时：",time:3e5},2:{value:2,label:"准备答题倒计时：",time:7e3},3:{value:3,label:"答题倒计时：",time:6e5},4:{value:4,label:"结束答题，剩余答题时间：",time:0}},isPause:!1,jsonStr:"",startAudioPath:"/examine/audio/start.mp3",endAudioPath:"/examine/audio/end.mp3",searchValue:"",startAudioEl:null,endAudioEl:null}},watch:{list:{deep:!0,handler(t){window.localStorage.setItem("list",JSON.stringify(t))}},havedList:{deep:!0,handler(t){window.localStorage.setItem("havedList",JSON.stringify(t))}},examineStatus(t){this.countdownTime=this.examineStatusMap[t].time,2===t?this.startAudioEl.play():(this.startAudioEl.pause(),this.startAudioEl.currentTime=0),4===t?this.endAudioEl.play():(this.endAudioEl.pause(),this.endAudioEl.currentTime=0)}},computed:{validList(){return(0,f.differenceBy)(this.list,this.havedList,"id")},searchList(){return this.list.filter((t=>!this.searchValue||t.q.includes(this.searchValue)))}},mounted(){this.$nextTick((()=>{0===this.list.length&&this.handleImprtDefault(),this.startAudioEl=document.getElementById("startAudio"),this.endAudioEl=document.getElementById("endAudio")}))},methods:{initForm(){return{id:"",q:"",a:""}},transform(t){return Object.keys(t).forEach((e=>{const i=t[e];t[e]=i<10?`0${i}`:i})),t},handleAdd(){this.form=this.initForm(),this.curItem={},this.activeName="3"},handleCancel(){this.form=this.initForm(),this.curItem={},this.activeName="1"},handleSave(){const t={...this.form};t.q&&(this.list.find((e=>e.q.includes(t.q)))?this.$message.error("已经存在相似的题目了"):(t.id?Object.assign(this.curItem,t):(t.id=(0,v.Z)(),this.list.push(t)),this.form=this.initForm(),this.curItem={}))},handleEdit(t){this.curItem=t,this.form={...t},this.activeName="3"},handleDelete(t,e){this.list.splice(t,1);const i=this.havedList.findIndex((t=>t.id===e.id));-1!==i&&this.havedList.splice(i,1)},handleRandom(){const t=(0,f.cloneDeep)(this.validList);t.length<3&&t.length+this.havedList.length>=3?(this.havedList=[],this.handleRandom()):(this.examineStatus=0,this.$nextTick((()=>{const e=[];while(e.length<3){const{random:i,floor:a}=Math,n=a(i()*t.length),s=t.splice(n,1);e.push(...s)}this.examineList=e,this.havedList.push(...e),this.examineStatus=1})))},handleProgress(t){const{hours:e,minutes:i,seconds:a}=t;this.timeRemaining=`${e}:${i}:${a}`},handleEnd(){this.countdownTime>0&&this.examineStatus++,this.$nextTick((()=>{this.timeRemaining="00:00:00"}))},handleTime(){const t=this.$refs.countdownRef;this.isPause?t.start():t.abort(),this.isPause=!this.isPause},handleAgain(){this.examineStatus=0,this.$nextTick((()=>{this.examineStatus=2}))},handleFinish(){this.examineStatus=4},handleImmediately(){this.examineStatus=3},handleBegin(){this.examineStatus=2},handleImport(){if(this.jsonStr)try{const t=JSON.parse(this.jsonStr),e=(0,f.differenceBy)(t,this.list,"id");e.length>0&&(this.list.push(...e),this.$message.success("数据导入成功")),this.jsonStr=""}catch(t){this.$message.error(t)}},handleImprtDefault(){p().get("/examine/cache/list.json").then((t=>{console.log(t);const{data:e=[]}=t,i=(0,f.differenceBy)(e,this.list,"id");i.length>0&&(this.list.push(...i),this.$message.success("数据导入成功"))})).catch((t=>{this.$message.error(t)}))}}},b=x,S=i(1001),_=(0,S.Z)(b,r,c,!1,null,"521f27cc",null),k=_.exports,w={name:"App",components:{HelloWorld:k}},A=w,N=(0,S.Z)(A,l,o,!1,null,null,null),I=N.exports;s["default"].use(n()),s["default"].config.productionTip=!1,new s["default"]({render:t=>t(I)}).$mount("#app")}},e={};function i(a){var n=e[a];if(void 0!==n)return n.exports;var s=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=t,function(){var t=[];i.O=function(e,a,n,s){if(!a){var l=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],s=t[u][2];for(var o=!0,r=0;r<a.length;r++)(!1&s||l>=s)&&Object.keys(i.O).every((function(t){return i.O[t](a[r])}))?a.splice(r--,1):(o=!1,s<l&&(l=s));if(o){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[a,n,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,s,l=a[0],o=a[1],r=a[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(r)var u=r(i)}for(e&&e(a);c<l.length;c++)s=l[c],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(u)},a=self["webpackChunkexamine"]=self["webpackChunkexamine"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(5914)}));a=i.O(a)})();
//# sourceMappingURL=app.f7f3cf69.js.map